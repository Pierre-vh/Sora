// RUN: %sorac-typecheck -dump-ast %s | %filecheck %s

func foo() {
  // CHECK: ImplicitMaybeConversionExpr implicit type=maybe i32
  // CHECK-NEXT: IntegerLiteralExpr type=i32 loc=line:6:22
  let _: maybe i32 = 0
  // CHECK: ImplicitMaybeConversionExpr implicit type=maybe maybe i32
  // CHECK-NEXT: ImplicitMaybeConversionExpr implicit type=maybe i32
  // CHECK-NEXT:   IntegerLiteralExpr type=i32 loc=line:10:28
  let _: maybe maybe i32 = 0
  // CHECK:      ImplicitMaybeConversionExpr implicit type=maybe i32
  // CHECK-NEXT:   IntegerLiteralExpr type=i32 loc=line:20:74
  // CHECK-NEXT: ImplicitMaybeConversionExpr implicit type=maybe i32
  // CHECK-NEXT:   IntegerLiteralExpr type=i32 loc=line:20:77
  // CHECK-NEXT: TupleExpr type=(maybe i32, maybe i32) numElements=2 lParenLoc=line:20:80 rParenLoc=line:20:85
  // CHECK-NEXT:   ImplicitMaybeConversionExpr implicit type=maybe i32
  // CHECK-NEXT:     IntegerLiteralExpr type=i32 loc=line:20:81
  // CHECK-NEXT:   ImplicitMaybeConversionExpr implicit type=maybe i32
  // CHECK-NEXT:     IntegerLiteralExpr type=i32 loc=line:20:84
  let (_, _, (_, _)) : (maybe i32, maybe i32, (maybe i32, maybe i32)) = (0, 0, (0, 0))
  // CHECK: ImplicitMaybeConversionExpr implicit type=maybe void
  // CHECK-NEXT: TupleExpr type=() numElements=0 lParenLoc=line:23:23 rParenLoc=line:23:24
  let _: maybe void = ()
  // CHECK: ImplicitMaybeConversionExpr implicit type=maybe i32
  // CHECK-NEXT: NullLiteralExpr type=null loc=line:26:22
  let _: maybe i32 = null
  // CHECK: ImplicitMaybeConversionExpr implicit type=maybe maybe i32
  // CHECK-NEXT: ImplicitMaybeConversionExpr implicit type=maybe i32
  // CHECK-NEXT:   NullLiteralExpr type=null loc=line:30:28
  let _: maybe maybe i32 = null
}